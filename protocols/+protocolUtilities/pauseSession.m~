function h = pauseSession(h,instruction,callbackFunctionName,buttonPosition)
%
%
%
% lorenzpammer 2011


%% 
if nargin < 2
    error('Provide instructions')
    if nargin < 3
      callbackFunctionName = [];
    elseif nargin < 4
       figurePosition = get(h.startSession,'Position');
    end
    
    %% Create function handle for the function defined in the argument
    
    functionHandle = str2func(callbackFunctionName);
   
    %% Set up pause session button
    
    h.pauseSession = uicontrol('Parent',h.guiHandle,'Style','togglebutton',...
        'String','pause session','Units','pixels','Position',buttonPosition,'Callback',functionHandle);
    % Following commands set up a 3D matrix: 3 entries for every pixel of the
    % pushbutton. [1 0 0] in RGB is red
    colorMatrix(:,:,1) = zeros(buttonHeight,buttonWidth);
    colorMatrix(:,:,2) = ones(buttonHeight,buttonWidth);
    colorMatrix(:,:,3) = zeros(buttonHeight,buttonWidth);
    set(h.pauseSession,'CData',colorMatrix) % set color of push button to color defined in colorMatrix

end