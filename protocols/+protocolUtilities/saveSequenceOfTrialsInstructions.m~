function h = saveSequenceOfTrialsInstructions(h,callbackFunctionName,buttonPosition)
% h = saveSequenceOfTrialsInstructions(h,callbackFunctionName,buttonPosition)
% Creates a pushbutton 
%
% lorenzpammer september 2012


%% 
    if nargin < 2
      callbackFunctionName = [];
    elseif nargin < 3
        % If there is a end session button, put it above that button.
        try
            figurePosition = get(h.startSession,'Position');
        end
            try
                figurePosition = get(h.startSession,'Position');
        buttonWidth = figurePosition(3); buttonHeight = figurePosition(4);
        spacing = 5;
       buttonPosition(1) = figurePosition(1); % [x y width height]
       buttonPosition(2) = figurePosition(2) + figurePosition(4) + spacing;
       buttonPosition(3) = buttonWidth;
       buttonPosition(4) = buttonHeight;
    end
    
    %% Create function handle for the function defined in the argument
    
    functionHandle = str2func(callbackFunctionName);
   
    %% Set up Start session button
    
    h.saveSessionInstructions = uicontrol('Parent',h.guiHandle,'Style','pushButton',...
        'String','Start session','Units','pixels','Position',buttonPosition,...
        'Callback',{functionHandle,callbackFunctionName});

end